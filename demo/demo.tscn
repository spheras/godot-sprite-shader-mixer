[gd_scene load_steps=25 format=3 uid="uid://btvorthsuc7d1"]

[ext_resource type="Texture2D" uid="uid://df2jw6if4mxcv" path="res://demo/assets/supergodot/supergodot-0001.png" id="2_e06wh"]
[ext_resource type="Texture2D" uid="uid://b7ti1bjtvpidb" path="res://demo/assets/supergodot/supergodot-0002.png" id="3_2mmwv"]
[ext_resource type="Texture2D" uid="uid://iwe61yidmofj" path="res://demo/assets/supergodot/supergodot-0000.png" id="3_t3lb8"]
[ext_resource type="Texture2D" uid="uid://cwn820wxxvcx7" path="res://demo/assets/supergodot/supergodot-0003.png" id="4_cc5mr"]
[ext_resource type="Texture2D" uid="uid://j33q6ffxd0ru" path="res://demo/assets/supergodot/supergodot-0004.png" id="5_y64ey"]
[ext_resource type="Texture2D" uid="uid://p8dp8egcyyvk" path="res://demo/assets/supergodot/supergodot-0005.png" id="6_vu1iv"]
[ext_resource type="Texture2D" uid="uid://tpqib4dufnqm" path="res://demo/assets/supergodot/supergodot-0006.png" id="7_p2sjx"]
[ext_resource type="Texture2D" uid="uid://tdtnwi2bnrje" path="res://demo/assets/supergodot/supergodot-0007.png" id="8_8slbi"]
[ext_resource type="Texture2D" uid="uid://bo8nmmxnxcwwa" path="res://demo/assets/supergodot/supergodot-0008.png" id="9_ueai0"]
[ext_resource type="Texture2D" uid="uid://dmope1g63msfs" path="res://demo/assets/supergodot/supergodot-0009.png" id="10_temj0"]
[ext_resource type="Texture2D" uid="uid://75y4phh7fdv1" path="res://demo/assets/supergodot/supergodot-0010.png" id="11_gwae1"]
[ext_resource type="Texture2D" uid="uid://dp32t42xbxkc" path="res://demo/assets/supergodot/supergodot-0011.png" id="12_mn5fg"]
[ext_resource type="Texture2D" uid="uid://fvcgyrtflf6h" path="res://demo/assets/supergodot/supergodot-0012.png" id="13_5jmwu"]
[ext_resource type="Texture2D" uid="uid://bhsjlw3todc7h" path="res://demo/assets/supergodot/supergodot-0013.png" id="14_pvbc4"]
[ext_resource type="Texture2D" uid="uid://rhhij8gyfvyf" path="res://demo/assets/supergodot/supergodot-0014.png" id="15_vorph"]
[ext_resource type="Texture2D" uid="uid://5ej6ccw4b56r" path="res://demo/assets/supergodot/supergodot-0015.png" id="16_b7r4p"]
[ext_resource type="Texture2D" uid="uid://baur6k4q3ahdf" path="res://demo/assets/supergodot/supergodot-0016.png" id="17_h4rrq"]
[ext_resource type="Texture2D" uid="uid://cypaci0ysnlj" path="res://demo/assets/supergodot/supergodot-0017.png" id="18_qsqos"]
[ext_resource type="Texture2D" uid="uid://c8lrvskp1kba8" path="res://demo/assets/supergodot/supergodot-0018.png" id="19_jqinh"]
[ext_resource type="Texture2D" uid="uid://c3kwl2cykto42" path="res://demo/assets/supergodot/supergodot-0019.png" id="20_jykhe"]
[ext_resource type="Texture2D" uid="uid://dp4mhj7l12nis" path="res://demo/assets/godot-text.png" id="21_0xoix"]

[sub_resource type="Shader" id="Shader_kklvi"]
code = "//ATTENTION:
//  THIS IS SHADE AUTOGENERATED BY
//  THE ADDON SPRITE-SHADER-MIXER
//  ANY MANUAL CHANGES WILL BE REMOVED WHEN THE ADDON
//  UPDATES THIS SHADER.
//  ANYWAY, YOU CAN SAVE THE CURRENT VERSION AS A RESOURCE FILE.
//SHADERS:Gold,
shader_type canvas_item;

	
//GOLD
uniform bool  GOLD_active  = true;
uniform float GOLD_offset: hint_range(0, 100) = 0;
uniform float GOLD_speed : hint_range(0, 10) = 1;
uniform float GOLD_mix : hint_range(0,1)=0;
float gold_calc_luminance(vec3 color)
{
    return dot(color, vec3( 0.299, 0.587, 0.114));
}
float gold_mark_light(vec2 uv, float value)
{
	vec2 co = uv * 5.0;
	float n = sin(value + co.x) + sin(value - co.x) + sin(value + co.y) + sin(value + 2.5 * co.y);
	return fract((5.0 + n) / 5.0);
}
void gold(in vec2 uv, in sampler2D txt, in vec2 spriteSize, in vec2 pixelSize, inout vec4 finalColor)
{
	float value = GOLD_offset + TIME * GOLD_speed;
	vec4 txt_color = texture(txt, uv);
	float luminance = gold_calc_luminance(txt_color.rbg);
	vec3 metal = vec3(luminance);
	metal.r = luminance * pow(1.5 * luminance, 3.0);
	metal.g = luminance * pow(1.5 * luminance, 3.0);
	metal.b = luminance * pow(0.75 * luminance, 3.0);
	
	float n = gold_mark_light(uv, value);
	n += dot(txt_color.rbg, vec3(0.2, 0.4, 0.2));
	n = fract(n);
	
	float a = clamp(abs(n * 6.0 - 2.0), 0.0, 1.0);
	vec4 color = vec4(metal.rgb + (1.0 - a), 1.0);
	color.rgb = color.rgb * 0.5 + dot(color.rgb, vec3 (0.113, 0.455, 0.172)) - vec3(0.0, 0.1, 0.6) + 0.025;
	color.a = txt_color.a;
	finalColor = mix(color, finalColor, GOLD_mix); 
}



void fragment() {
	vec4 color = texture(TEXTURE, UV);
	vec2 size = vec2(textureSize(TEXTURE, 0));

	if(GOLD_active) gold(UV, TEXTURE, size, TEXTURE_PIXEL_SIZE, color);


	COLOR=color;
}	
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_27pfp"]
shader = SubResource("Shader_kklvi")
shader_parameter/GOLD_active = true
shader_parameter/GOLD_offset = 28.718
shader_parameter/GOLD_speed = 0.59
shader_parameter/GOLD_mix = 0.0

[sub_resource type="SpriteFrames" id="SpriteFrames_oay1k"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_t3lb8")
}, {
"duration": 1.0,
"texture": ExtResource("2_e06wh")
}, {
"duration": 1.0,
"texture": ExtResource("3_2mmwv")
}, {
"duration": 1.0,
"texture": ExtResource("4_cc5mr")
}, {
"duration": 1.0,
"texture": ExtResource("5_y64ey")
}, {
"duration": 1.0,
"texture": ExtResource("6_vu1iv")
}, {
"duration": 1.0,
"texture": ExtResource("7_p2sjx")
}, {
"duration": 1.0,
"texture": ExtResource("8_8slbi")
}, {
"duration": 1.0,
"texture": ExtResource("9_ueai0")
}, {
"duration": 1.0,
"texture": ExtResource("10_temj0")
}, {
"duration": 1.0,
"texture": ExtResource("11_gwae1")
}, {
"duration": 1.0,
"texture": ExtResource("12_mn5fg")
}, {
"duration": 1.0,
"texture": ExtResource("13_5jmwu")
}, {
"duration": 1.0,
"texture": ExtResource("14_pvbc4")
}, {
"duration": 1.0,
"texture": ExtResource("15_vorph")
}, {
"duration": 1.0,
"texture": ExtResource("16_b7r4p")
}, {
"duration": 1.0,
"texture": ExtResource("17_h4rrq")
}, {
"duration": 1.0,
"texture": ExtResource("18_qsqos")
}, {
"duration": 1.0,
"texture": ExtResource("19_jqinh")
}, {
"duration": 1.0,
"texture": ExtResource("20_jykhe")
}],
"loop": true,
"name": &"default",
"speed": 25.0
}]

[node name="Demo" type="Node2D"]
position = Vector2(-62, 17)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
material = SubResource("ShaderMaterial_27pfp")
position = Vector2(625, 302)
scale = Vector2(0.320801, 0.320801)
sprite_frames = SubResource("SpriteFrames_oay1k")
frame_progress = 0.565961

[node name="Godot-text" type="Sprite2D" parent="."]
position = Vector2(642, 528)
scale = Vector2(0.456332, 0.456332)
texture = ExtResource("21_0xoix")
